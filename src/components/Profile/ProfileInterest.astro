---
// components/Profile/ProfileInterests.astro

interface Interest { category: string; [key: string]: any; }
interface Props    { interests: Interest[]; }

const { interests } = Astro.props;

const COLORS: Record<string, string> = {
  Adventure:   'bg-orange-50 text-orange-600 border-orange-200',
  Culture:     'bg-purple-50 text-purple-600 border-purple-200',
  Food:        'bg-yellow-50 text-yellow-700 border-yellow-200',
  Nature:      'bg-green-50  text-green-600  border-green-200',
  Beach:       'bg-cyan-50   text-cyan-700   border-cyan-200',
  Photography: 'bg-pink-50   text-pink-600   border-pink-200',
};
const color = (cat: string) => (COLORS[cat] ?? 'bg-blue-50 text-blue-600 border-blue-200') + ' border';

const visible  = interests.slice(0, 8);
const overflow = interests.length - 8;
---

<div class="bg-white rounded-2xl border border-gray-100 shadow-sm">
  <div class="flex items-center justify-between px-5 py-4 border-b border-gray-100">
    <h2 class="section-title">Interests</h2>
    <a href="/onboarding/interests" class="text-xs font-semibold text-blue-600 hover:text-blue-700 transition-colors">Edit</a>
  </div>
  <div class="p-5">
    {interests.length > 0 ? (
      <div class="flex flex-wrap gap-2">
        {visible.map(i => (
          <span class={`inline-flex items-center text-xs font-semibold px-3 py-1 rounded-full ${color(i.category)}`}>
            {i.category}
          </span>
        ))}
        {overflow > 0 && (
          <span class="inline-flex items-center text-xs font-medium px-3 py-1 rounded-full bg-gray-100 text-gray-500 border border-gray-200">
            +{overflow} more
          </span>
        )}
      </div>
    ) : (
      <div class="flex flex-col items-center py-6 text-center">
        <p class="text-sm text-gray-400 italic mb-3">No interests added yet.</p>
        <a href="/onboarding/interests" class="text-xs font-semibold text-white brand-gradient px-4 py-2 rounded-xl hover:opacity-90 transition-opacity">
          Add interests
        </a>
      </div>
    )}
  </div>
</div>

<style>
  .brand-gradient { background: linear-gradient(135deg, #3B82F6 0%, #2563EB 100%); }
  .section-title  { font-size: 10px; font-weight: 700; color: #9CA3AF; text-transform: uppercase; letter-spacing: 0.1em; }
</style>