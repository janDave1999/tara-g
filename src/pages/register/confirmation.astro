---
import Pageplate from "@/layouts/PagePlate.astro";
const params = Astro.url.searchParams;
const email = params.get("email") || "your email";
---

<Pageplate title="Confirm your email">
  <section class="flex justify-center items-center min-h-[80vh] bg-gray-50">
    <div class="bg-white rounded-2xl shadow-md p-8 w-full max-w-md text-center">
      <picture>
        <source srcset="/icons/email-confirm.webp" type="image/webp" />
        <img src="/icons/email-confirm.png" alt="Email Confirmation" class="w-32 h-32 mx-auto mb-4" loading="lazy" />
      </picture>

      <h1 class="text-2xl font-semibold mb-3">Verify your email</h1>
      <p class="text-gray-600 mb-6">
        We’ve sent a confirmation link to <br />
        <span class="font-semibold text-gray-800">{{ email }}</span>
      </p>

      <p class="text-gray-500 mb-8 text-sm">
        Please check your inbox and click the link to activate your account.  
        If you don’t see the email, check your spam or promotions folder.
      </p>

      <form method="post" action="/api/auth/resend-confirmation" class="space-y-4">
        <input type="hidden" name="email" value={email} />
        <button
          type="submit"
          class="w-full bg-blue-600 text-white font-medium py-2 rounded-lg hover:bg-blue-700 transition"
        >
          Resend confirmation email
        </button>
      </form>

      <div class="mt-6 text-gray-600 text-sm">
        <p>Entered the wrong email?</p>
        <a href="/register" class="text-blue-600 hover:underline">Go back and try again</a>
      </div>
    </div>
  </section>
</Pageplate>
