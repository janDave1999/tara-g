---
import { SEO } from "astro-seo";

interface Props {
  description?: {
    title?: string,
    containsArticle?: boolean,
    description?: string,
    previewImage?: string,
    datePublished?: string,
    dateModified?: string,
    author?: string[]|string,
    topics?: string[],
    mentionedKeywords?: string[],
  },
}

const { description } = Astro.props as Props;
const desc = description || {};
const fallbackImage = `${Astro.url.origin}/images/og-preview.png`;
const imageUrl = desc.previewImage || fallbackImage;
---

<SEO
  description={desc.description}
  openGraph={{
    basic:{
      url: Astro.url.href,
      type: desc.containsArticle ? "article" : "website",
      title: desc.title || "Tara G - Philippine Travel Community",
      image: imageUrl,
    },
    optional:{
      description: desc?.description,
      siteName: 'Tara G!',
      locale: 'en_PH',
    },
    image: {
      url: imageUrl,
      secureUrl: imageUrl,
      alt: desc.title || "Tara G - Plan your Philippine adventure",
      width: 1200,
      height: 630,
    },
    article: desc.containsArticle ? {
      publishedTime: desc.datePublished,
      modifiedTime: desc.dateModified,
      expirationTime: undefined,
      authors: desc.author ? (Array.isArray(desc.author) ? desc.author : [desc.author]) : undefined,
      section: desc.topics?.[0] || undefined,
      tags: desc.mentionedKeywords,
    } : undefined,
  }}
/>